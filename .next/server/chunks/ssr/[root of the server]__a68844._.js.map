{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///media/dark/Baby_Shark/Anufied/WebstormProjects/Optidrive/optidrive/src/pages/FileExplorer.js"],"sourcesContent":["// FileExplorer.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst FileExplorer = () => {\n  const [files, setFiles] = useState([]);\n  const [currentPath, setCurrentPath] = useState('/data');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchFiles = async () => {\n      setLoading(true);\n      try {\n        const response = await axios.get(`/list?path=${currentPath}`);\n        setFiles(response.data);\n        setError(null);\n      } catch (err) {\n        setError('Failed to fetch files');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchFiles();\n  }, [currentPath]);\n\n  const handleNavigate = (path) => {\n    setCurrentPath(path);\n  };\n\n  const handleDownload = async (fileName) => {\n    try {\n      const response = await axios.get(`/download?path=${currentPath}&name=${fileName}`, {\n        responseType: 'blob',\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', fileName);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (err) {\n      setError('Failed to download file');\n    }\n  };\n\n  const handleRename = async (oldName, newName) => {\n    try {\n      await axios.post('/rename', { oldName, newName, path: currentPath });\n      setFiles(files.map(file => (file === oldName ? newName : file)));\n    } catch (err) {\n      setError('Failed to rename file');\n    }\n  };\n\n  const handleDelete = async (fileName) => {\n    try {\n      await axios.delete(`/delete?path=${currentPath}&name=${fileName}`);\n      setFiles(files.filter(file => file !== fileName));\n    } catch (err) {\n      setError('Failed to delete file');\n    }\n  };\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>{error}</p>;\n\n  return (\n    <div>\n      <h2>File Explorer</h2>\n      <div className=\"file-grid\">\n        {files.map((file, index) => (\n          <div key={index} className=\"file-item\">\n            <p>{file}</p>\n            <div className=\"file-actions\">\n              <button onClick={() => handleNavigate(`${currentPath}/${file}`)}>Open</button>\n              <button onClick={() => handleDownload(file)}>Download</button>\n              <button onClick={() => handleRename(file, prompt('Enter new name'))}>Rename</button>\n              <button onClick={() => handleDelete(file)}>Delete</button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default FileExplorer;\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;AAClB;AACA;;;;;;;;AAEA,MAAM,eAAe;IACnB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa;YACjB,WAAW;YACX,IAAI;gBACF,MAAM,WAAW,MAAM,0GAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,aAAa;gBAC5D,SAAS,SAAS,IAAI;gBACtB,SAAS;YACX,EAAE,OAAO,KAAK;gBACZ,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAY;IAEhB,MAAM,iBAAiB,CAAC;QACtB,eAAe;IACjB;IAEA,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,MAAM,WAAW,MAAM,0GAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,YAAY,MAAM,EAAE,UAAU,EAAE;gBACjF,cAAc;YAChB;YACA,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC,IAAI,KAAK;gBAAC,SAAS,IAAI;aAAC;YAC/D,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG;YACZ,KAAK,YAAY,CAAC,YAAY;YAC9B,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,KAAK,KAAK;YACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC5B,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,MAAM,eAAe,OAAO,SAAS;QACnC,IAAI;YACF,MAAM,0GAAA,CAAA,UAAK,CAAC,IAAI,CAAC,WAAW;gBAAE;gBAAS;gBAAS,MAAM;YAAY;YAClE,SAAS,MAAM,GAAG,CAAC,CAAA,OAAS,SAAS,UAAU,UAAU;QAC3D,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,0GAAA,CAAA,UAAK,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,YAAY,MAAM,EAAE,UAAU;YACjE,SAAS,MAAM,MAAM,CAAC,CAAA,OAAQ,SAAS;QACzC,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,IAAI,SAAS,qBAAO,qKAAC;kBAAE;;;;;;IACvB,IAAI,OAAO,qBAAO,qKAAC;kBAAG;;;;;;IAEtB,qBACE,qKAAC;;0BACC,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,qKAAC;wBAAgB,WAAU;;0CACzB,qKAAC;0CAAG;;;;;;0CACJ,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAO,SAAS,IAAM,eAAe,GAAG,YAAY,CAAC,EAAE,MAAM;kDAAG;;;;;;kDACjE,qKAAC;wCAAO,SAAS,IAAM,eAAe;kDAAO;;;;;;kDAC7C,qKAAC;wCAAO,SAAS,IAAM,aAAa,MAAM,OAAO;kDAAoB;;;;;;kDACrE,qKAAC;wCAAO,SAAS,IAAM,aAAa;kDAAO;;;;;;;;;;;;;uBANrC;;;;;;;;;;;;;;;;AAapB;uCAEe"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}