{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///home/dark/WebstormProjects/Optidrive/optidrive/src/components/ui/button.js"],"sourcesContent":["// src/components/ui/button.js\nimport React from 'react';\n\nexport const Button = ({ children, className, ...props }) => {\n    return (\n        <button className={`btn ${className}`} {...props}>\n            {children}\n        </button>\n    );\n};"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAC9B;;;AAEO,MAAM,SAAS,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAO;IACpD,qBACI,qKAAC;QAAO,WAAW,CAAC,IAAI,EAAE,WAAW;QAAG,GAAG,KAAK;kBAC3C;;;;;;AAGb"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///home/dark/WebstormProjects/Optidrive/optidrive/src/components/ui/Modal.js"],"sourcesContent":["// optidrive/src/components/ui/Modal.js\nimport React from 'react';\nimport './Modal.css';\n\nconst Modal = ({ message, onClose }) => {\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-content\">\n        <p>{message}</p>\n        <button className=\"modal-close-button\" onClick={onClose}>Close</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;"],"names":[],"mappings":"AAAA,uCAAuC;;;;;AACvC;;;;AAGA,MAAM,QAAQ,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE;IACjC,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;8BAAG;;;;;;8BACJ,qKAAC;oBAAO,WAAU;oBAAqB,SAAS;8BAAS;;;;;;;;;;;;;;;;;AAIjE;uCAEe"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///home/dark/WebstormProjects/Optidrive/optidrive/src/pages/FileExplorer.js"],"sourcesContent":["// src/pages/FileExplorer.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { Button } from '@/components/ui/button'; // Ensure Button is imported correctly\nimport Modal from '@/components/ui/Modal';\nimport { Folder, File, MoreVertical } from 'lucide-react'; // Import icons\nimport './FileExplorer.css'; // Ensure this line is present\nimport path from 'path-browserify'; // Import path-browserify\n\nconst API_BASE_URL = 'http://localhost:5676';\n\nexport default function FileExplorer() {\n  const [files, setFiles] = useState([]);\n  const [modalMessage, setModalMessage] = useState('');\n  const [currentPath, setCurrentPath] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [openMenuIndex, setOpenMenuIndex] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    fetchFiles();\n  }, [currentPath]);\n\n  const fetchFiles = useCallback(async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/list?path=${currentPath}`);\n      setFiles(response.data);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n      setModalMessage('Error fetching files');\n    } finally {\n      setLoading(false);\n    }\n  }, [currentPath]);\n\n  const handleUpload = async (event) => {\n    const files = event.target.files;\n    const formData = new FormData();\n    for (let file of files) {\n      formData.append('file', file);\n    }\n    setLoading(true);\n    try {\n      await axios.post(`${API_BASE_URL}/upload?path=${currentPath}`, formData);\n      setModalMessage('Files uploaded successfully');\n      fetchFiles();\n    } catch (error) {\n      console.error('Error uploading files:', error);\n      setModalMessage('Error uploading files');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateFolder = async () => {\n    const folderName = prompt('Enter folder name:');\n    if (folderName) {\n      setLoading(true);\n      try {\n        const response = await axios.post(`${API_BASE_URL}/mkdir?path=${currentPath}`, { name: folderName });\n        setModalMessage(response.data.message);\n        fetchFiles();\n      } catch (error) {\n        if (error.response && error.response.status === 400) {\n          setModalMessage(`Folder with name \"${folderName}\" already exists.`);\n        } else {\n          console.error('Error creating folder:', error);\n          setModalMessage('Error creating folder');\n        }\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleDelete = async (name) => {\n    setLoading(true);\n    try {\n      await axios.delete(`${API_BASE_URL}/delete?path=${currentPath}&name=${name}`);\n      setModalMessage('File deleted successfully');\n      fetchFiles();\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      setModalMessage('Error deleting file');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRename = async (oldName) => {\n    const newName = prompt('Enter new name:');\n    if (newName) {\n      setLoading(true);\n      try {\n        await axios.post(`${API_BASE_URL}/rename?path=${currentPath}`, { oldName, newName });\n        setModalMessage('File renamed successfully');\n        fetchFiles();\n      } catch (error) {\n        console.error('Error renaming file:', error);\n        setModalMessage('Error renaming file');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleDownload = async (name) => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/download?path=${currentPath}&name=${name}`, {\n        responseType: 'blob',\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', name);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error('Error downloading file:', error);\n      setModalMessage('Error downloading file');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNavigate = (name) => {\n    const newPath = path.join(currentPath, name);\n    setCurrentPath(newPath);\n  };\n\n  const handleGoBack = () => {\n    const newPath = path.dirname(currentPath);\n    setCurrentPath(newPath === '.' ? '' : newPath);\n  };\n\n  const toggleMenu = (index) => {\n    setOpenMenuIndex((prevIndex) => (prevIndex === index ? null : index));\n  };\n\n  const handleSearch = (event) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const filteredFiles = files.filter((file) =>\n    file.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <div className=\"file-explorer\">\n      <h1>File Explorer</h1>\n      <div className=\"folder-navigation\">\n        Current Path: {currentPath || 'Root'}\n      </div>\n      <input\n        type=\"text\"\n        className=\"search-bar\"\n        placeholder=\"Search files...\"\n        value={searchQuery}\n        onChange={handleSearch}\n      />\n      <div className=\"action-grid\">\n        <Button className=\"action-button\" onClick={() => document.getElementById('file-input').click()}>\n          Upload\n        </Button>\n        <Button className=\"action-button\" onClick={handleCreateFolder}>\n          Create Folder\n        </Button>\n        <Button className=\"action-button\" onClick={handleGoBack}>\n          Go Back\n        </Button>\n      </div>\n      <input type=\"file\" id=\"file-input\" style={{ display: 'none' }} onChange={handleUpload} multiple />\n      <div className=\"file-grid\">\n        {loading && <p>Loading...</p>}\n        {filteredFiles.map((file, index) => (\n          <div key={index} className=\"file-card\">\n            <div className=\"file-icon\">\n              {file.includes('.') ? <File /> : <Folder />}\n            </div>\n            <div className=\"file-name\">{file}</div>\n            <div className=\"file-menu\">\n              <MoreVertical className=\"icon menu-icon\" onClick={() => toggleMenu(index)} />\n              {openMenuIndex === index && (\n                <div className=\"menu-options\">\n                  <Button className=\"file-menu-button\" onClick={() => handleDelete(file)}>\n                    Delete\n                  </Button>\n                  <Button className=\"file-menu-button\" onClick={() => handleRename(file)}>\n                    Rename\n                  </Button>\n                  {!file.includes('.') && (\n                    <Button className=\"file-menu-button\" onClick={() => handleNavigate(file)}>\n                      Open\n                    </Button>\n                  )}\n                  {file.includes('.') && (\n                    <Button className=\"file-menu-button\" onClick={() => handleDownload(file)}>\n                      Download\n                    </Button>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n      {modalMessage && <Modal message={modalMessage} onClose={() => setModalMessage('')} />}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 516, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}